@model Rossell_HO.Models.Permission
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    <link rel="shortcut icon" type="image/x-icon" href="~/favicon.ico">
    @Styles.Render("~/Content/css")
    @Styles.Render("~/Content/MyStyle.css")
    @Styles.Render("~/Content/themes/base/core.css")
    @Styles.Render("~/Content/datatable.css")
    @Styles.Render("~/Content/themes/base/accordion.css")
    @Styles.Render("~/Content/themes/base/autocomplete.css")
    @Styles.Render("~/Content/themes/base/button.css")
    @Styles.Render("~/Content/themes/base/datepicker.css")
    @Styles.Render("~/Content/themes/base/dialog.css")
    @Styles.Render("~/Content/themes/base/draggable.css")
    @Styles.Render("~/Content/themes/base/menu.css")
    @Styles.Render("~/Content/themes/base/progressbar.css")
    @Styles.Render("~/Content/themes/base/resizable.css")
    @Styles.Render("~/Content/themes/base/selectable.css")
    @Styles.Render("~/Content/themes/base/selectmenu.css")
    @Styles.Render("~/Content/themes/base/sortable.css")
    @Styles.Render("~/Content/themes/base/slider.css")
    @Styles.Render("~/Content/themes/base/spinner.css")
    @Styles.Render("~/Content/themes/base/tabs.css")
    @Styles.Render("~/Content/themes/base/tooltip.css")
    @Styles.Render("~/Content/themes/base/theme.css")
    @Scripts.Render("~/bundles/modernizr")    
    
</head>
<body>

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->           
            <div class="navbar-header">
                <button class="navbar-toggle" type="button" data-target=".navbar-ex1-collapse" data-toggle="collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                @Html.ActionLink("Logout", "Logout", "Home", new { area = "" }, new { @class = "navbar-brand" })
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    <li class="menu-item "><a href="@Url.Action("MenuScreen", "Home")"><span class="glyphicon glyphicon-home"></span>Home</a></li>
                    @*<li class="menu-item dropdown">
                <a class="dropdown-toggle" href="#" data-toggle="dropdown">About The Tests <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li class="menu-item dropdown dropdown-submenu">
                        <a class="dropdown-toggle" href="#" data-toggle="dropdown">Clearing Floats</a>
                        <ul class="dropdown-menu">
                            <li class="menu-item "><a href="#">Page with comments</a></li>
                            <li class="menu-item "><a href="#">Page with comments disabled</a></li>
                            <li class="menu-item dropdown dropdown-submenu">
                                <a class="dropdown-toggle" href="#" data-toggle="dropdown">More</a>
                                <ul class="dropdown-menu"><li><a href="#">3rd level link more options</a></li><li><a href="#">3rd level link</a></li></ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>*@                    
                    <li class="menu-item"><a href="@Url.Action("Help", "Home")"><span class="glyphicon glyphicon-user"></span>About Us</a></li>
                    @if (Model.Add == "A")
                    {

                        string url = Request.Url.AbsoluteUri;
                        string path = Model.DefaultView == true ? url.Substring(0, url.IndexOf("?")) : url;
                        if (Model.DefaultAction == "A" || Model.DefaultAction == null)
                        {
                        <li class="menu-item">
                            <a href="@path?op=A" title="Add New Record"><span class="glyphicon glyphicon-file" style="font-size:larger;color:dodgerblue"></span></a>
                        </li>
                        }
                        else
                        {
                            <li class="menu-item">
                                <a href="#" title="Add New Record"><span class="glyphicon glyphicon-file" style="font-size:larger;color:darkgray"></span></a>
                            </li>
                        }
                    }
                    @if (Model.Edit == "E")
                    {
                        string url = Request.Url.AbsoluteUri;
                        string path = Model.DefaultView == true ? url.Substring(0, url.IndexOf("?")) : url;
                        if (Model.DefaultAction == "E" || Model.DefaultAction == null)
                        {
                        <li class="menu-item">
                            <a href="@path?op=E" title="Edit Record"><span class="glyphicon glyphicon-edit" style="font-size:larger;color:chartreuse"></span></a>
                        </li>
                        }
                        else
                        {
                            <li class="menu-item">
                                <a href="#"><span class="glyphicon glyphicon-edit" style="font-size:larger;color:darkgray"></span></a>
                            </li>
                        }
                    }
                    @if (Model.Delete == "D")
                    {
                        string url = Request.Url.AbsoluteUri;
                        string path = Model.DefaultView == true ? url.Substring(0, url.IndexOf("?")) : url;
                        if (Model.DefaultAction == "D" || Model.DefaultAction == null)
                        {
                        <li class="menu-item">
                            <a href="@path?op=D" title="Delete Record"><span class="glyphicon glyphicon-trash" style="font-size:larger;color:red"></span></a>
                        </li>
                        }
                        else
                        {
                            <li class="menu-item">
                                <a href="#"><span class="glyphicon glyphicon-trash" style="font-size:larger;color:darkgray"></span></a>
                            </li>
                        }
                    }
                    @if (Model.View == "V")
                    {
                        string url = Request.Url.AbsoluteUri;
                        string path = Model.DefaultView == true ? url.Substring(0, url.IndexOf("?")) : url;
                        if (Model.DefaultAction == "V" || Model.DefaultAction == null)
                        {
                        <li class="menu-item">
                            <a href="@path?op=V" title="View Record"><span class="glyphicon glyphicon-th" style="font-size:larger;color:cyan"></span></a>
                        </li>
                        }
                        else
                        {
                            <li class="menu-item">
                                <a href="#"><span class="glyphicon glyphicon-th" style="font-size:larger;color:darkgray"></span></a>
                            </li>
                        }
                    }
                    @if (Model.ExitMode == 1)
                    {
                        string url = Request.Url.AbsoluteUri;                        
                        string path = Model.DefaultView == true ? url.Substring(0, url.IndexOf("?")) : url;
                        <li class="menu-item">
                            <a href="@path" title="Exit Mode"><span class="glyphicon glyphicon-off" style="font-size:larger;color:crimson"></span></a>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </div>    
    <div class="container body-content">        
        @RenderBody()
        <hr />
        <footer>
            <p><span style="color:blue">Classic ERP >> @Session["ModuleNAME"].ToString()</span> &copy; - @DateTime.Now.Year </p>
            <p>Version Release : <span style="color:crimson"> @Session["Version"]</span></p>
            <p>Publish Version Release : <span style="color:crimson"> @Session["publishversion"]</span></p>
        </footer>
    </div>

    @*@Scripts.Render("~/bundles/jquery")*@
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/Scripts/datatable.js")     
    @Scripts.Render("~/bundles/jqueryui")
    <script>
        $(function () {
            $(".jqueryui-marker-datepicker").datepicker({
                dateFormat: "dd/mm/yy",
                changeYear: true,
                showOn: "button",
                maxDate: '@Model.maxdate',
                minDate: '@Model.mindate'
            }).css("display", "inline-block")
            .next("button").button({
                icons: { primary: "ui-icon-calendar" },
                label: "Select date",
                text: false
            });
        });
    </script>
    @RenderSection("scripts", required: false)
</body>
</html>

